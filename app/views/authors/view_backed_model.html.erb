<h2>Authors</h2>
<p>This view shows a list of authors along with the title of their newest post and the date that it was published. It implements a Greatest Per Group query – thus, avoiding the N+1 query problem – using a View Backed Model.</p>
<p>View the source code:
  <ul>
    <li><%= link_to "Model", "https://github.com/toasterlovin/rails-greatest-per-group/blob/master/app/models/author.rb#L9" %></li>
    <li>
      <%= link_to "View Backed Model", "https://github.com/toasterlovin/rails-greatest-per-group/blob/master/app/models/newest_post.rb" %>
      & <%= link_to "Migration", "https://github.com/toasterlovin/rails-greatest-per-group/blob/master/db/migrate/20160404061651_create_newest_posts_view.rb#L4-L7" %>
    </li>
    <li><%= link_to "View", "https://github.com/toasterlovin/rails-greatest-per-group/blob/master/app/views/authors/view_backed_model.html.erb#L15-L16" %></li>
    <li><%= link_to "Controller", "https://github.com/toasterlovin/rails-greatest-per-group/blob/master/app/controllers/authors_controller.rb#L19-L21" %></li>
  </ul>
</p>
<p>Read the <%= link_to "blog post explaining this approach", "http://www.toasterlovin.com/greatest-per-group-rails-view-backed-model/" %>.</p>

<table class="table">
  <thead>
    <tr>
      <th>Author</th>
      <th>Newest Post</th>
      <th>Published</th>
    </tr>
  </thead>
  <tbody>
    <%= content_tag_for :tr, @authors do |author| %>
      <td><%= author.full_name %></td>
      <td><%= author.view_backed_model_newest_post.title %></td>
      <td><%= author.view_backed_model_newest_post.created_at.strftime("%Y-%m-%d") %></td>
    <% end %>
  </tbody>
</table>
